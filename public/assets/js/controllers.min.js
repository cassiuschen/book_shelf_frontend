window.ionicApp.controller("HomeController",["$scope","$rootScope","$http","$ionicLoading","$timeout",function(o,r,n){return o.data={},o.clearSearch=function(){return o.data.searchQuery=""},o.doRefresh=function(){return r.showLoading(),n({method:"GET",url:window.ApiBaseUrl+"books.json",isArray:!0}).success(function(n){return o.books=n,r.hideLoading(),o.$broadcast("scroll.refreshComplete")})},o.doRefresh()}]).controller("BookDetailController",["$scope","$rootScope","$http","$ionicLoading","$timeout","$stateParams",function(o,r,n,t,e,i){o.book={},o.getInfo=function(){return r.showLoading(),n({method:"GET",url:window.ApiBaseUrl+"book.json",params:{id:i.BookId},isArray:!0}).success(function(r){var n,t;return o.book=r,o.rating=Math.round(o.book.rating.average/2),o.rating_up=function(){n=[];for(var r=0,t=o.rating;t>=0?t>r:r>t;t>=0?r++:r--)n.push(r);return n}.apply(this),o.rating_down=function(){t=[];for(var r=0,n=5-o.rating;n>=0?n>r:r>n;n>=0?r++:r--)t.push(r);return t}.apply(this),o.hideLoading(),o.$broadcast("scroll.refreshComplete")})},o.getInfo()}]).controller("DoubanInfoController",["$scope","$http","$stateParams",function(){}]).controller("AboutController",["$scope",function(o){return o.test="Test is success!"}]).controller("LoadingController",["$scope","$ionicLoading",function(o,r){return o.show=function(){return r.show({template:"加载中"})},o.gide=function(){return r.hide()}}]);